# üóÇÔ∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä - –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚ú® –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä** –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–∞–ø–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
2. **–ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è** –±–µ–∑ –ø–æ–∫–∞–∑–∞ GUI –æ–∫–æ–Ω –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–æ–≤
3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∏—Å–∫–∞–º –∏ –ø–∞–ø–∫–∞–º** —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
4. **–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**, –æ–¥–∏–Ω–∞—Ä–Ω—ã–π –¥–ª—è –≤—ã–±–æ—Ä–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (server.js)

#### –ù–æ–≤—ã–π API endpoint –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
app.get('/api/directory-tree', (req, res) => {
    const { path: rootPath = 'drives' } = req.query;
    
    if (rootPath === 'drives') {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∏—Å–∫–∏
        const drives = getAvailableDrives();
        const driveNodes = drives.map(drive => ({
            name: drive,
            path: drive,
            type: 'drive',
            hasChildren: true,
            icon: 'üíæ'
        }));
        return res.json({ nodes: driveNodes });
    }
    
    // –°–∫–∞–Ω–∏—Ä—É–µ–º –ø–∞–ø–∫–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø—É—Ç–∏
    const items = fs.readdirSync(rootPath);
    const nodes = items.filter(item => {
        return fs.statSync(path.join(rootPath, item)).isDirectory();
    }).map(item => ({
        name: item,
        path: path.join(rootPath, item),
        type: 'folder',
        hasChildren: hasSubdirectories(path.join(rootPath, item)),
        icon: 'üìÅ'
    }));
    
    res.json({ nodes, currentPath: rootPath });
});
```

#### –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è:
```javascript
// 7-Zip —Å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
command = `${archiverPath} a -y -bsp1 -bso0 "${archivePath}" @"${fileListPath}"`;

// WinRAR —Å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏  
command = `${archiverPath} a -y -ep1 -ibck "${archivePath}" ${filePaths.join(' ')}`;

// –ó–∞–ø—É—Å–∫ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
const archiveProcess = spawn(command, { shell: true, stdio: ['pipe', 'pipe', 'pipe'] });
```

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (app.js)

#### –§—É–Ω–∫—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
async function loadFileBrowser(path = 'drives') {
    const response = await apiCall(`/directory-tree?path=${encodeURIComponent(path)}`);
    fileBrowserData = response.nodes || [];
    renderFileBrowser();
}

function renderFileBrowser() {
    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏—Å–∫–æ–≤ –∏ –ø–∞–ø–æ–∫ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
    fileBrowserData.forEach(item => {
        html += `
            <div class="file-browser-item" 
                 onclick="selectDestination('${item.path}')"
                 ondblclick="navigateToPath('${item.path}')">
                <span class="file-browser-icon">${item.icon}</span>
                <span class="file-browser-name">${item.name}</span>
                ${item.hasChildren ? '<span class="file-browser-expand">‚ñ∂</span>' : ''}
            </div>
        `;
    });
}
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### –°—Ç–∏–ª–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞:
```css
.file-browser {
    border: 1px solid #ddd;
    border-radius: 6px;
    max-height: 300px;
    overflow-y: auto;
    background: #fafafa;
}

.file-browser-item {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.file-browser-item:hover {
    background-color: #e3f2fd;
}

.file-browser-item.selected {
    background-color: #2196f3;
    color: white;
}
```

## üéÆ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
```
‚ùå –†—É—á–Ω–æ–π –≤–≤–æ–¥ –ø—É—Ç–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏
‚ùå –ü–æ–∫–∞–∑ GUI –æ–∫–æ–Ω –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–æ–≤
‚ùå –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:
```
‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–∞–ø–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞
‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∏—Å–∫–∞–º –∏ –ø–∞–ø–∫–∞–º
‚úÖ –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –±–µ–∑ GUI
‚úÖ –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ø–∞–ø–∫–∏
‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞–ª–∏—á–∏—è –ø–æ–¥–ø–∞–ø–æ–∫
‚úÖ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏
```

## üìã –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:
- –í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ —á–µ–∫–±–æ–∫—Å–∞–º–∏
- –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ"
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–∞–ø–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

### 3. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í—ã–±–æ—Ä –ø–∞–ø–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–∞ (7-Zip/WinRAR)
- –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–µ–∑ GUI
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–º–µ–Ω –∞—Ä—Ö–∏–≤–æ–≤

## üéØ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞

### –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **üíæ –î–∏—Å–∫–∏** - –ø–æ–∫–∞–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- **üìÅ –ü–∞–ø–∫–∏** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–ø–æ–∫ —Å –∏–∫–æ–Ω–∫–∞–º–∏
- **‚ñ∂ –°—Ç—Ä–µ–ª–∫–∏** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ª–∏—á–∏—è –ø–æ–¥–ø–∞–ø–æ–∫
- **‚¨ÜÔ∏è –ù–∞–∑–∞–¥** - –≤–æ–∑–≤—Ä–∞—Ç –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–µ
- **üìç –ü—É—Ç—å** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:
- **–û–¥–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∏–∫** - –≤—ã–±–æ—Ä –ø–∞–ø–∫–∏ –∫–∞–∫ –º–µ—Å—Ç–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- **–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫** - –≤—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **–ö–ª–∏–∫ –Ω–∞ —Å—Ç—Ä–µ–ª–∫—É** - –±—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –≤ –ø–∞–ø–∫—É
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"** - –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:
```bash
node test-file-browser.js
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏
4. –ù–∞–∂–º–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å", "–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å" –∏–ª–∏ "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –≤—ã–±–æ—Ä –ø–∞–ø–æ–∫

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ø—É—Ç—è—Ö
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø–∞–ø–∫–∞–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏—è GUI
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–ø–µ—Ä–∞—Ü–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞–ø–æ–∫
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –≤–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ø—É—Ç—è—Ö
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –±–µ–∑ GUI –æ–∫–æ–Ω
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∑–Ω–∞–∫–æ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞–π–ª–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ) —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–∞–ø–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ!